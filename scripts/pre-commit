#!/bin/bash

# Pre-commit hook for TitanTrack
# Runs type checking, linting, and format checking before allowing commits

set -e

echo "ğŸ” Running pre-commit checks..."

# Run type checking
echo "ğŸ“ Type checking..."
bun run typecheck
if [ $? -ne 0 ]; then
    echo "âŒ Type check failed. Please fix errors before committing."
    exit 1
fi

# Run linting
echo "ğŸ§¹ Linting..."
bun run lint
if [ $? -ne 0 ]; then
    echo "âŒ Lint check failed. Please fix errors before committing."
    exit 1
fi

# Run format check
echo "ğŸ¨ Format checking..."
bun run format:check
if [ $? -ne 0 ]; then
    echo "âŒ Format check failed. Run 'bun run format' to fix."
    exit 1
fi

echo "âœ… All checks passed!"
